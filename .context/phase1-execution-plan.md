# Phase 1å®Ÿè¡Œè¨ˆç”»: Makefileæ•´å‚™ã¨ãƒ­ã‚°æ”¹å–„

## ğŸ¯ ç›®æ¨™
1. Makefileã‚’å……å®Ÿã•ã›ã€é–‹ç™ºä½“é¨“ã‚’å‘ä¸Š
2. run.logè‡ªå‹•ç”Ÿæˆã‚’å‰Šé™¤
3. æˆæœç‰©ã‚’é©åˆ‡ã«ç®¡ç†

## ğŸ“ ã‚¿ã‚¹ã‚¯è©³ç´°

### Task 1.1: Makefileã‚³ãƒãƒ³ãƒ‰è¿½åŠ 
**å„ªå…ˆåº¦**: High  
**æƒ³å®šæ™‚é–“**: 30åˆ†

#### è¿½åŠ ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰
```makefile
# åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰
make extract        # docstring/ã‚³ãƒ¡ãƒ³ãƒˆæŠ½å‡º
make translate      # ç¿»è¨³å®Ÿè¡Œ
make replace        # ã‚½ãƒ¼ã‚¹ã¸åæ˜ 
make pipeline       # å…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ

# ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰
make test           # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
make test-extract   # extractå˜ä½“ãƒ†ã‚¹ãƒˆ
make test-translate # translateå˜ä½“ãƒ†ã‚¹ãƒˆ
make test-replace   # replaceå˜ä½“ãƒ†ã‚¹ãƒˆ
make test-pipeline  # ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆãƒ†ã‚¹ãƒˆ

# ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
make clean          # ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
make act-local      # actã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆï¼ˆtranslate-testã‹ã‚‰ãƒªãƒãƒ¼ãƒ ï¼‰
make archive        # æˆæœç‰©ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
make help           # ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
```

#### å®Ÿè£…æ–¹é‡
- å„ã‚³ãƒãƒ³ãƒ‰ã¯æ˜ç¢ºãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒã¤
- ç’°å¢ƒå¤‰æ•°ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã«
- æˆæœç‰©ã¯ `out/` ã«å‡ºåŠ›ã€å®Œäº†å¾Œã« `archives/$(date +%Y%m%d_%H%M%S)/` ã¸ã‚³ãƒ”ãƒ¼

### Task 1.2: run.logç”Ÿæˆã®å‰Šé™¤
**å„ªå…ˆåº¦**: High  
**æƒ³å®šæ™‚é–“**: 15åˆ†

#### èª¿æŸ»
- [ ] `run.log` ãŒã©ã“ã§ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- [ ] ãƒ­ã‚°è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«/ã‚³ãƒ¼ãƒ‰ã‚’ç‰¹å®š

#### ä¿®æ­£
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å‰Šé™¤
- [ ] stdout/stderrã®ã¿ã«å‡ºåŠ›
- [ ] å¿…è¦ã§ã‚ã‚Œã° `--log-file` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šå¯èƒ½ã«

### Task 1.3: æˆæœç‰©ç®¡ç†
**å„ªå…ˆåº¦**: High  
**æƒ³å®šæ™‚é–“**: 20åˆ†

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
project/
â”œâ”€â”€ out/              # ä¸€æ™‚å‡ºåŠ›ï¼ˆgitignoreï¼‰
â”‚   â”œâ”€â”€ extracted.jsonl
â”‚   â”œâ”€â”€ translated.jsonl
â”‚   â”œâ”€â”€ unprocessed.jsonl
â”‚   â”œâ”€â”€ token-summary.json
â”‚   â””â”€â”€ translated_sources/
â”œâ”€â”€ archives/         # ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆgitignoreï¼‰
â”‚   â””â”€â”€ 20251027_123456/  # ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
â”‚       â”œâ”€â”€ extracted.jsonl
â”‚       â”œâ”€â”€ translated.jsonl
â”‚       â”œâ”€â”€ unprocessed.jsonl
â”‚       â”œâ”€â”€ token-summary.json
â”‚       â””â”€â”€ translated_sources/
â””â”€â”€ translated/      # GitHub Actionsç”¨ï¼ˆgitignoreï¼‰
```

#### .gitignoreæ›´æ–°
```
out/
archives/
translated/
*.log
.uv-cache/
__pycache__/
```

### Task 1.4: ãƒ†ã‚¹ãƒˆãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
**å„ªå…ˆåº¦**: Medium  
**æƒ³å®šæ™‚é–“**: 1æ™‚é–“

#### ãƒã‚§ãƒƒã‚¯é …ç›®
- [ ] `tests/test_extract.py` ãŒå‹•ä½œã™ã‚‹ã‹
- [ ] `tests/test_translate.py` ãŒå‹•ä½œã™ã‚‹ã‹
- [ ] `tests/test_replace.py` ãŒå‹•ä½œã™ã‚‹ã‹
- [ ] `tests/test_pipeline.py` ãŒå‹•ä½œã™ã‚‹ã‹
- [ ] æœ€æ–°ã®CLIå¼•æ•°ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ï¼ˆbatch_size, modeå‰Šé™¤ï¼‰
- [ ] ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒé©åˆ‡ã‹

## ğŸ”„ å®Ÿè¡Œé †åº

1. **run.logèª¿æŸ»** (Task 1.2) - 5åˆ†
2. **Makefileä½œæˆ** (Task 1.1) - 30åˆ†
3. **run.logå‰Šé™¤** (Task 1.2) - 10åˆ†
4. **.gitignoreæ›´æ–°** (Task 1.3) - 5åˆ†
5. **make testå®Ÿè¡Œã—ã¦ç¢ºèª** (Task 1.4) - 10åˆ†
6. **ãƒ†ã‚¹ãƒˆä¿®æ­£** (Task 1.4) - 50åˆ†
7. **å‹•ä½œç¢ºèª** - 10åˆ†
8. **ã‚³ãƒŸãƒƒãƒˆ** - 5åˆ†

**åˆè¨ˆæƒ³å®šæ™‚é–“**: ç´„2æ™‚é–“

## âœ… å®Œäº†æ¡ä»¶

- [ ] ã™ã¹ã¦ã®makeã‚³ãƒãƒ³ãƒ‰ãŒå‹•ä½œã™ã‚‹
- [ ] `run.log` ãŒç”Ÿæˆã•ã‚Œãªã„
- [ ] `make test` ãŒé€šã‚‹
- [ ] `make pipeline` ã§å…¨ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œã§ãã‚‹
- [ ] æˆæœç‰©ãŒé©åˆ‡ã«ä¿å­˜ã•ã‚Œã‚‹
- [ ] .gitignoreãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹
- [ ] READMEã«æ–°ã—ã„makeã‚³ãƒãƒ³ãƒ‰ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹

## ğŸ“‹ æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º

Phase 1å®Œäº†å¾Œ:
- Phase 2: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™
- Phase 3: CI/CDè¿½åŠ 
- Phase 4: OSSãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—
